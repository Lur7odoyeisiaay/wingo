<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Wingo 2.0 Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import {
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  sendEmailVerification,
  GoogleAuthProvider,
  signInWithPopup
} from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "PASTE_YOUR_API_KEY",
  authDomain: "wingo-20.firebaseapp.com",
  projectId: "wingo-20"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// REGISTER
window.register = async () => {
  const email = document.getElementById("email").value;
  const pass = document.getElementById("password").value;

  if (!email || !pass) {
    alert("Email aur password bhar");
    return;
  }

  try {
    const userCred = await createUserWithEmailAndPassword(auth, email, pass);
    await sendEmailVerification(userCred.user);
    alert("Email verification link bhej diya hai. Inbox / Spam check karo.");
  } catch (e) {
    alert(e.message);
  }
};

// LOGIN
window.login = async () => {
  const email = document.getElementById("email").value;
  const pass = document.getElementById("password").value;

  try {
    const userCred = await signInWithEmailAndPassword(auth, email, pass);
    if (!userCred.user.emailVerified) {
      alert("Pehle email verify karo");
      return;
    }
    alert("Login successful");
  } catch (e) {
    alert(e.message);
  }
};

// GOOGLE LOGIN
window.googleLogin = async () => {
  try {
    await signInWithPopup(auth, provider);
    alert("Google login successful");
  } catch (e) {
    alert(e.message);
  }
};
</script>

<style>
body{font-family:Arial;background:#fde7d6;padding:20px;}
input,button{width:100%;padding:12px;margin:8px 0;}
button{background:#b37a5c;color:#fff;border:none;}
</style>
</head>

<body>
<h2>Wingo 2.0</h2>

<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="register()">Register</button>
<button onclick="login()">Login</button>
<button onclick="googleLogin()">Continue with Google</button>

</body>
</html>
